apply plugin: 'idea'
apply plugin: 'eclipse'

repositories {
	mavenCentral()

	maven {
		name = "chickenbones"
		url = "http://chickenbones.net/maven"
	}

	maven {
		name = "squiddev"
		url = "http://maven.bonzodandd.co.uk"
	}

	maven {
		name "IC2"
		url "http://maven.ic2.player.to"
	}

	maven {
		name "OpenMods"
		url "http://repo.openmods.info/artifactory/openmods"
	}

	maven {
		name = "austinv11" // Peripherals++
		url "http://jcenter.bintray.com"
	}

	ivy {
		name = "ComputerCraft"
		artifactPattern "http://addons-origin.cursecdn.com/files/2244/605/[module][revision].[ext]"
	}

	ivy {
		name = "CoFHLib"
		artifactPattern "http://addons-origin.cursecdn.com/files/2235/558/[module]-[revision].[ext]"
	}
}

configurations {
	shade
	compile.extendsFrom shade

	packaged

	deployerJars
}

dependencies {
	compile group: 'ComputerCraft', name: 'ComputerCraft', version: "${project.cc_version}", ext: 'jar'

	compile "codechicken:ForgeMultipart:${project.mc_version}-${project.multipart_version}:dev"
	compile "codechicken:CodeChickenLib:${project.mc_version}-${project.ccl_version}:dev"
	compile "codechicken:NotEnoughItems:${project.mc_version}-${project.nei_version}:dev"
	compile "codechicken:CodeChickenCore:${project.mc_version}-${project.ccc_version}:dev"
	compile "com.austinv11.collectiveframework:CollectiveFramework:${project.collectiveframework_verion}:deobf"
	compile "com.austinv11.peripheralsplusplus:PeripheralsPlusPlus:${project.peripheralspp_version}:deobf"

	packaged "CoFHLib:CoFHLib:[${project.mc_version}]${project.cofhlib_version}-dev:jar"
	packaged "net.industrial-craft:industrialcraft-2:${project.api_ic2_version}:api"
	packaged "openperipheral:OpenPeripheralCore-API:${project.op_version}"

	shade('org.squiddev:luaj.luajc:1.0.1') {
		// We provide a custom LuaJ source with ComputerCraft
		exclude group: 'org.ow2.asm'
		exclude group: 'org.luaj'
	}

	shade('org.squiddev:Patcher:1.1') { exclude group: 'org.ow2.asm' }
	packaged('org.squiddev:ConfigGen:1.1') { exclude group: 'net.minecraftforge' }

	testCompile group: "junit", name: "junit", version: "4.+"

	deployerJars "org.apache.maven.wagon:wagon-ftp:2.2"
}
sourceSets.main.compileClasspath += [configurations.packaged]

idea.module.scopes.PROVIDED.plus += [configurations.packaged]
eclipse.classpath.plusConfigurations += [configurations.packaged]

